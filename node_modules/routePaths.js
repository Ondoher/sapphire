var path = require('path');
var fs = require('fs');

var thisDir = path.dirname(module.filename) + '/';

function unDos(filepath)
{
	filepath = path.resolve(filepath);

	if (filepath.indexOf(':') == 1)
	{
		filepath = filepath.slice(2);
	}

  	filepath = filepath.replace(/\\/g, '/');
	return filepath;
}

var mainAssets = unDos(thisDir  + '../public');

exports.urlPathToFilePath = function(which)
{
	var paths = which.split('/');
	paths.shift();

	if (paths[0] == 'assets')
	{
		return mainAssets + '/' + paths.join('/');
	}
	else if (paths.indexOf('assets') != -1)
	{
		return path.normalize(unDos(thisDir) + '/../apps/' + paths.join('/'));
	}
}

